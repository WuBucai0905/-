# Vue中的性能优化问题

## 1、v-for

**v-for中 数组中插入值的性能优化问题**

> 本质的操作是将 修改的位置 改成你要传入的数据， 然后后面的元素 依次替换为之前的 顺序数值。
>
> 优化：动态链表
>
> 使用绑定key， 使得绑定的key 和展示的元素是一一对应的 【注意: 重复key 会报错】
>
> diff算法：优先查看 key 有没有发生变化，没变化直接复用。 中间插入元素此时 就不会做 位移的耗性能操作了
>
> key的作用主要是为了 高效的更新 Virtual DOM

**数组发生变化时候，页面会自动刷新**

> 数据是响应式的

哪些时候数组改变是响应式的，哪些时候数组改变不是响应式的？

**响应式**【可以直接添加多个元素】

- `.push()` 数组最后面添加元素
- `.pop()` 删除数组中最后的元素
- `.shift()` 删除数组中第的元素
- `.unshift()` 数组最前面添加元素
- `.splice()`
- `.sort()` 排序
- `.reverse()` 反转

**非响应式**

- 通过索引值 修改 数组中的元素 是非响应式的
  - 解决
    - `.splice()`
    - `Vue.set(要修改的对象 , 索引值, 修改后的值)`

**切换后 input 的复用问题**

> Vue会进行虚拟DOM的渲染，放在内存里面。由于性能考虑，会尽可能的复用已经存在的元素，而不是重新创建新的元素 	diff算法:只替换发生变化的
>
> 解决复用问题方案 `:key=''` ：key作为标识

**关于input输入框的一些小知识点**

> input 有个 内部事件叫 input， 动态的监听用户输入的数据
>
> input框的值绑定：动态的给 value赋值
>
> - 定义 input 值的时候学习时是直接给定的
> - 真实开发中，这些 input的值 是从 网络获取或者定义在data的
> - 通过 `v-bind:"value"` 动态的给 value 绑定值

